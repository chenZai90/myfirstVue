<template>
  <div class="conditional-demo">
    <div class="page-header">
      <h1>ğŸ”€ æ¡ä»¶æ¸²æŸ“</h1>
      <p class="page-description">Vue.js æä¾›äº†å¼ºå¤§çš„æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤ï¼Œè®©ä½ å¯ä»¥æ ¹æ®æ•°æ®çŠ¶æ€åŠ¨æ€æ˜¾ç¤ºæˆ–éšè—å†…å®¹ã€‚</p>
    </div>

    <!-- åŸºç¡€æ¡ä»¶æ¸²æŸ“ -->
    <section class="demo-section">
      <h2>ğŸ¯ åŸºç¡€æ¡ä»¶æ¸²æŸ“</h2>
      
      <div class="demo-container">
        <div class="demo-item">
          <h3>v-if / v-else-if / v-else</h3>
          <div style="padding: 1rem; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
            <div style="margin: 1rem 0;">
              <button @click="showUserSection = !showUserSection" style="padding: 0.5rem 1rem; background: #2196f3; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 1rem;">åˆ‡æ¢ç”¨æˆ·åŒºåŸŸ</button>
              <button @click="showProductSection = !showProductSection" style="padding: 0.5rem 1rem; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer;">åˆ‡æ¢äº§å“åŒºåŸŸ</button>
            </div>
            
            <div v-if="showUserSection" style="padding: 1rem; background: #e3f2fd; border-radius: 4px; margin: 1rem 0;">
              <h4>ğŸ‘¤ ç”¨æˆ·ä¿¡æ¯</h4>
              <p>ç”¨æˆ·å: {{ user.name }}</p>
              <p>é‚®ç®±: {{ user.email }}</p>
            </div>
            
            <div v-else-if="showProductSection" style="padding: 1rem; background: #e8f5e8; border-radius: 4px; margin: 1rem 0;">
              <h4>ğŸ“¦ äº§å“ä¿¡æ¯</h4>
              <ul>
                <li v-for="product in products" :key="product.id">{{ product.name }}</li>
              </ul>
            </div>
            
            <div v-else style="padding: 1rem; background: #fff3e0; border-radius: 4px; margin: 1rem 0;">
              <h4>ğŸ“‹ é»˜è®¤å†…å®¹</h4>
              <p>æ²¡æœ‰é€‰æ‹©ä»»ä½•åŒºåŸŸæ—¶æ˜¾ç¤ºçš„é»˜è®¤å†…å®¹</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- v-show å¯¹æ¯” -->
    <section class="demo-section">
      <h2>ğŸ‘ï¸ v-show å¯¹æ¯”</h2>
      
      <div class="demo-container">
        <div class="demo-item">
          <h3>v-if vs v-show</h3>
          <div style="padding: 1rem; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
            <div style="margin: 1rem 0;">
              <button @click="toggleVisibility" style="padding: 0.5rem 1rem; background: #9c27b0; color: white; border: none; border-radius: 4px; cursor: pointer;">åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€</button>
              <span style="margin-left: 1rem; font-weight: bold;">å½“å‰çŠ¶æ€: {{ isVisible ? 'æ˜¾ç¤º' : 'éšè—' }}</span>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0;">
              <div style="padding: 1rem; border: 1px solid #2196f3; border-radius: 4px;">
                <h4>ä½¿ç”¨ v-if</h4>
                <div v-if="isVisible" style="padding: 0.5rem; background: #e3f2fd; border-radius: 4px;">
                  è¿™ä¸ªå…ƒç´ ä½¿ç”¨ v-ifï¼Œä¼šè¢«å®Œå…¨ç§»é™¤/æ·»åŠ åˆ°DOM
                </div>
                <p style="font-size: 0.9rem; color: #666; margin: 0.5rem 0;">v-if ä¼šå®Œå…¨ç§»é™¤æˆ–æ·»åŠ DOMå…ƒç´ </p>
              </div>
              
              <div style="padding: 1rem; border: 1px solid #4caf50; border-radius: 4px;">
                <h4>ä½¿ç”¨ v-show</h4>
                <div v-show="isVisible" style="padding: 0.5rem; background: #e8f5e8; border-radius: 4px;">
                  è¿™ä¸ªå…ƒç´ ä½¿ç”¨ v-showï¼Œåªæ˜¯åˆ‡æ¢CSS displayå±æ€§
                </div>
                <p style="font-size: 0.9rem; color: #666; margin: 0.5rem 0;">v-show åªæ˜¯åˆ‡æ¢CSSçš„displayå±æ€§</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- å¤æ‚æ¡ä»¶ -->
    <section class="demo-section">
      <h2>ğŸ”§ å¤æ‚æ¡ä»¶æ¸²æŸ“</h2>
      
      <div class="demo-container">
        <div class="demo-item">
          <h3>åŸºäºç”¨æˆ·è§’è‰²çš„æ¡ä»¶æ¸²æŸ“</h3>
          <div style="padding: 1rem; border: 1px solid #ddd; border-radius: 4px; background: #f9f9f9;">
            <div style="margin: 1rem 0;">
              <button @click="toggleUserRole" style="padding: 0.5rem 1rem; background: #ff9800; color: white; border: none; border-radius: 4px; cursor: pointer;">åˆ‡æ¢ç”¨æˆ·è§’è‰²</button>
              <span style="margin-left: 1rem; font-weight: bold;">å½“å‰è§’è‰²: {{ user.isAdmin ? 'ç®¡ç†å‘˜' : 'æ™®é€šç”¨æˆ·' }}</span>
            </div>
            
            <div v-if="user.isAdmin" style="padding: 1rem; background: #ffebee; border: 1px solid #f44336; border-radius: 4px; margin: 1rem 0;">
              <h4>ğŸ”‘ ç®¡ç†å‘˜åŠŸèƒ½</h4>
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.5rem; margin: 1rem 0;">
                <button style="padding: 0.5rem; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">ç”¨æˆ·ç®¡ç†</button>
                <button style="padding: 0.5rem; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">ç³»ç»Ÿè®¾ç½®</button>
                <button style="padding: 0.5rem; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">æ•°æ®åˆ†æ</button>
                <button style="padding: 0.5rem; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">æ—¥å¿—æŸ¥çœ‹</button>
              </div>
            </div>
            
            <div v-else style="padding: 1rem; background: #e8f5e8; border: 1px solid #4caf50; border-radius: 4px; margin: 1rem 0;">
              <h4>ğŸ‘¤ æ™®é€šç”¨æˆ·åŠŸèƒ½</h4>
              <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.5rem; margin: 1rem 0;">
                <button style="padding: 0.5rem; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer;">æŸ¥çœ‹èµ„æ–™</button>
                <button style="padding: 0.5rem; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer;">ä¿®æ”¹å¯†ç </button>
                <button style="padding: 0.5rem; background: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer;">ä¸ªäººè®¾ç½®</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue'

const showUserSection = ref(true)
const showProductSection = ref(false)
const isVisible = ref(true)

const user = reactive({
  name: 'å¼ ä¸‰',
  email: 'zhangsan@example.com',
  isAdmin: true
})

const products = ref([
  { id: 1, name: 'äº§å“A' },
  { id: 2, name: 'äº§å“B' },
  { id: 3, name: 'äº§å“C' }
])

function toggleVisibility() {
  isVisible.value = !isVisible.value
}

function toggleUserRole() {
  user.isAdmin = !user.isAdmin
}
</script>

<style scoped>
.conditional-demo {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.page-header {
  text-align: center;
  margin-bottom: 3rem;
}

.page-header h1 {
  font-size: 2.5rem;
  color: #2c3e50;
  margin-bottom: 1rem;
}

.page-description {
  font-size: 1.1rem;
  color: #666;
  max-width: 600px;
  margin: 0 auto;
}

.demo-section {
  margin-bottom: 4rem;
}

.demo-section h2 {
  font-size: 1.8rem;
  color: #34495e;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #3498db;
}

.demo-container {
  margin: 2rem 0;
}

.demo-item {
  padding: 1.5rem;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  background: white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.demo-item h3 {
  margin-top: 0;
  color: #2c3e50;
  border-bottom: 1px solid #eee;
  padding-bottom: 0.5rem;
}

@media (max-width: 768px) {
  .conditional-demo {
    padding: 1rem;
  }
  
  .page-header h1 {
    font-size: 2rem;
  }
  
  .demo-section h2 {
    font-size: 1.5rem;
  }
}
</style>