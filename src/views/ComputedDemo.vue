<template>
  <div class="computed-demo">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="page-header">
      <h1>âš¡ è®¡ç®—å±æ€§</h1>
      <p class="page-description">
        å­¦ä¹ Vue 3çš„è®¡ç®—å±æ€§ï¼ˆcomputedï¼‰ï¼Œäº†è§£å…¶ç¼“å­˜æœºåˆ¶ã€ä¸æ–¹æ³•çš„åŒºåˆ«ï¼Œä»¥åŠå¯å†™è®¡ç®—å±æ€§çš„ç”¨æ³•
      </p>
    </div>

    <!-- åŸºç¡€è®¡ç®—å±æ€§ -->
    <section class="demo-section">
      <h2>ğŸ¯ åŸºç¡€è®¡ç®—å±æ€§</h2>
      
      <CommentBox
        title="computed() åŸºç¡€ç”¨æ³•"
        description="è®¡ç®—å±æ€§æ˜¯åŸºäºå…¶å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚åªæœ‰åœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚"
        :concepts="[
          { name: 'computed', description: 'åˆ›å»ºä¸€ä¸ªè®¡ç®—å±æ€§ï¼ŒåŸºäºå“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜' },
          { name: 'å“åº”å¼ä¾èµ–', description: 'è®¡ç®—å±æ€§ä¼šè¿½è¸ªå…¶å†…éƒ¨ä½¿ç”¨çš„å“åº”å¼æ•°æ®' },
          { name: 'ç¼“å­˜æœºåˆ¶', description: 'åªæœ‰ä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—ï¼Œå¦åˆ™è¿”å›ç¼“å­˜å€¼' }
        ]"
        :code-explanation="basicComputedExplanations"
        :notes="[
          'è®¡ç®—å±æ€§å…·æœ‰ç¼“å­˜æ€§ï¼Œç›¸åŒä¾èµ–ä¸‹ä¸ä¼šé‡å¤è®¡ç®—',
          'è®¡ç®—å±æ€§æ˜¯åªè¯»çš„ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼',
          'è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨è¿½è¸ªä¾èµ–ï¼Œä¾èµ–å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°'
        ]"
        :links="[
          { title: 'Vue 3å®˜æ–¹æ–‡æ¡£ - è®¡ç®—å±æ€§', url: 'https://cn.vuejs.org/guide/essentials/computed.html' }
        ]"
      />

      <div class="demo-container">
        <DemoRunner :component="BasicComputedDemo" title="åŸºç¡€è®¡ç®—å±æ€§ç¤ºä¾‹" />
      </div>

      <CodeBlock
        :code="basicComputedCode"
        language="javascript"
        title="åŸºç¡€è®¡ç®—å±æ€§ä»£ç "
      />
    </section>

    <!-- è®¡ç®—å±æ€§ vs æ–¹æ³• -->
    <section class="demo-section">
      <h2>âš–ï¸ è®¡ç®—å±æ€§ vs æ–¹æ³•</h2>
      
      <CommentBox
        title="è®¡ç®—å±æ€§ä¸æ–¹æ³•çš„åŒºåˆ«"
        description="è®¡ç®—å±æ€§åŸºäºå“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜ï¼Œè€Œæ–¹æ³•æ¯æ¬¡è°ƒç”¨éƒ½ä¼šé‡æ–°æ‰§è¡Œã€‚"
        :concepts="[
          { name: 'ç¼“å­˜å·®å¼‚', description: 'è®¡ç®—å±æ€§æœ‰ç¼“å­˜ï¼Œæ–¹æ³•æ²¡æœ‰ç¼“å­˜' },
          { name: 'æ‰§è¡Œæ—¶æœº', description: 'è®¡ç®—å±æ€§ä¾èµ–å˜åŒ–æ—¶æ‰§è¡Œï¼Œæ–¹æ³•æ¯æ¬¡è°ƒç”¨éƒ½æ‰§è¡Œ' },
          { name: 'æ€§èƒ½è€ƒè™‘', description: 'è®¡ç®—å±æ€§æ€§èƒ½æ›´å¥½ï¼Œé€‚åˆå¤æ‚è®¡ç®—' }
        ]"
        :notes="[
          'è®¡ç®—å±æ€§ï¼šé€‚åˆåŸºäºç°æœ‰æ•°æ®è®¡ç®—æ–°å€¼ï¼Œæœ‰ç¼“å­˜æœºåˆ¶',
          'æ–¹æ³•ï¼šé€‚åˆæ‰§è¡Œæ“ä½œæˆ–æ¯æ¬¡éƒ½éœ€è¦é‡æ–°è®¡ç®—çš„åœºæ™¯',
          'å¦‚æœä¸å¸Œæœ›æœ‰ç¼“å­˜ï¼Œè¯·ä½¿ç”¨æ–¹æ³•'
        ]"
      />

      <div class="demo-container">
        <DemoRunner :component="ComputedVsMethodDemo" title="è®¡ç®—å±æ€§ vs æ–¹æ³•å¯¹æ¯”" />
      </div>

      <CodeBlock
        :code="computedVsMethodCode"
        language="javascript"
        title="è®¡ç®—å±æ€§ vs æ–¹æ³•å¯¹æ¯”ä»£ç "
      />
    </section>

    <!-- å¯å†™è®¡ç®—å±æ€§ -->
    <section class="demo-section">
      <h2>âœï¸ å¯å†™è®¡ç®—å±æ€§</h2>
      
      <CommentBox
        title="å¯å†™è®¡ç®—å±æ€§è¯¦è§£"
        description="è®¡ç®—å±æ€§é»˜è®¤æ˜¯åªè¯»çš„ï¼Œä½†å¯ä»¥é€šè¿‡æä¾›getterå’Œsetteræ¥åˆ›å»ºå¯å†™çš„è®¡ç®—å±æ€§ã€‚"
        :concepts="[
          { name: 'getter', description: 'è·å–è®¡ç®—å±æ€§å€¼çš„å‡½æ•°' },
          { name: 'setter', description: 'è®¾ç½®è®¡ç®—å±æ€§å€¼çš„å‡½æ•°' },
          { name: 'åŒå‘ç»‘å®š', description: 'å¯å†™è®¡ç®—å±æ€§å¯ä»¥ç”¨äºv-modelç­‰åŒå‘ç»‘å®šåœºæ™¯' }
        ]"
        :code-explanation="writableComputedExplanations"
        :notes="[
          'å¯å†™è®¡ç®—å±æ€§éœ€è¦åŒæ—¶æä¾›getå’Œsetå‡½æ•°',
          'setteré€šå¸¸ç”¨äºå°†æ–°å€¼åˆ†è§£å¹¶æ›´æ–°ç›¸å…³çš„å“åº”å¼æ•°æ®',
          'å¸¸ç”¨äºè¡¨å•åŒå‘ç»‘å®šå’Œæ•°æ®æ ¼å¼è½¬æ¢'
        ]"
      />

      <div class="demo-container">
        <DemoRunner :component="WritableComputedDemo" title="å¯å†™è®¡ç®—å±æ€§ç¤ºä¾‹" />
      </div>

      <CodeBlock
        :code="writableComputedCode"
        language="javascript"
        title="å¯å†™è®¡ç®—å±æ€§ä»£ç "
      />
    </section>

    <!-- å¤æ‚è®¡ç®—å±æ€§ç¤ºä¾‹ -->
    <section class="demo-section">
      <h2>ğŸ§® å¤æ‚è®¡ç®—å±æ€§ç¤ºä¾‹</h2>
      
      <CommentBox
        title="å®é™…åº”ç”¨åœºæ™¯"
        description="å±•ç¤ºè®¡ç®—å±æ€§åœ¨å®é™…å¼€å‘ä¸­çš„å¸¸è§åº”ç”¨åœºæ™¯ï¼Œå¦‚æ•°æ®è¿‡æ»¤ã€æ’åºã€æ ¼å¼åŒ–ç­‰ã€‚"
        :concepts="[
          { name: 'æ•°æ®è¿‡æ»¤', description: 'åŸºäºæ¡ä»¶è¿‡æ»¤æ•°ç»„æ•°æ®' },
          { name: 'æ•°æ®æ’åº', description: 'å¯¹æ•°æ®è¿›è¡Œæ’åºå¤„ç†' },
          { name: 'æ•°æ®æ ¼å¼åŒ–', description: 'æ ¼å¼åŒ–æ˜¾ç¤ºæ•°æ®' },
          { name: 'å¤æ‚è®¡ç®—', description: 'åŸºäºå¤šä¸ªæ•°æ®æºè¿›è¡Œå¤æ‚è®¡ç®—' }
        ]"
        :notes="[
          'è®¡ç®—å±æ€§éå¸¸é€‚åˆæ•°æ®è½¬æ¢å’Œæ ¼å¼åŒ–',
          'å¯ä»¥ç»„åˆå¤šä¸ªè®¡ç®—å±æ€§æ¥æ„å»ºå¤æ‚é€»è¾‘',
          'é¿å…åœ¨æ¨¡æ¿ä¸­å†™å¤æ‚çš„è¡¨è¾¾å¼'
        ]"
      />

      <div class="demo-container">
        <DemoRunner :component="ComplexComputedDemo" title="å¤æ‚è®¡ç®—å±æ€§ç¤ºä¾‹" />
      </div>

      <CodeBlock
        :code="complexComputedCode"
        language="javascript"
        title="å¤æ‚è®¡ç®—å±æ€§ä»£ç "
      />
    </section>
  </div>
</template>

<script setup>
import { defineComponent, ref, computed, reactive } from 'vue'
import CodeBlock from '@/components/CodeDemo/CodeBlock.vue'
import DemoRunner from '@/components/CodeDemo/DemoRunner.vue'
import CommentBox from '@/components/CodeDemo/CommentBox.vue'

// Code explanation arrays
const basicComputedExplanations = [
  'const fullName = computed(() => firstName.value + lastName.value) - åˆ›å»ºä¸€ä¸ªåŸºäºfirstNameå’ŒlastNameçš„è®¡ç®—å±æ€§',
  'fullName.value - è®¿é—®è®¡ç®—å±æ€§çš„å€¼ï¼ˆåœ¨JavaScriptä¸­éœ€è¦.valueï¼‰',
  '{{ fullName }} - åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è®¡ç®—å±æ€§ï¼ˆè‡ªåŠ¨è§£åŒ…ï¼‰'
]

const writableComputedExplanations = [
  'get() { return firstName.value + lastName.value } - getterå‡½æ•°å®šä¹‰å¦‚ä½•è®¡ç®—å€¼',
  'set(value) { [firstName.value, lastName.value] = value.split(" ") } - setterå‡½æ•°å®šä¹‰å¦‚ä½•å¤„ç†èµ‹å€¼',
  'fullName.value = "å¼  ä¸‰" - ç»™è®¡ç®—å±æ€§èµ‹å€¼ä¼šè§¦å‘setter'
]

// åŸºç¡€è®¡ç®—å±æ€§ç¤ºä¾‹ç»„ä»¶
const BasicComputedDemo = defineComponent({
  setup() {
    // åˆ›å»ºå“åº”å¼æ•°æ® - ä½¿ç”¨ref()ä¸ºåŸºæœ¬æ•°æ®ç±»å‹åˆ›å»ºå“åº”å¼å¼•ç”¨
    const firstName = ref('å¼ ')    // å§“æ°ï¼Œåˆå§‹å€¼ä¸º'å¼ '
    const lastName = ref('ä¸‰')     // åå­—ï¼Œåˆå§‹å€¼ä¸º'ä¸‰' 
    const age = ref(25)            // å¹´é¾„ï¼Œåˆå§‹å€¼ä¸º25
    const salary = ref(8000)       // è–ªèµ„ï¼Œåˆå§‹å€¼ä¸º8000

    // åŸºç¡€è®¡ç®—å±æ€§ - åŸºäºfirstNameå’ŒlastNameè®¡ç®—å…¨å
    const fullName = computed(() => {
      // è¿™ä¸ªconsole.logç”¨äºæ¼”ç¤ºç¼“å­˜æœºåˆ¶
      // åªæœ‰å½“firstNameæˆ–lastNameå‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™è¡Œä»£ç æ‰ä¼šæ‰§è¡Œ
      console.log('è®¡ç®—fullName') // ç”¨äºæ¼”ç¤ºç¼“å­˜
      
      // è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨è¿½è¸ªå…¶å†…éƒ¨ä½¿ç”¨çš„å“åº”å¼æ•°æ®ï¼ˆfirstNameå’ŒlastNameï¼‰
      // å½“è¿™äº›ä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—
      return `${firstName.value}${lastName.value}`
    })

    // æ ¼å¼åŒ–è®¡ç®—å±æ€§ - å°†æ•°å­—æ ¼å¼åŒ–ä¸ºè´§å¸æ˜¾ç¤º
    const formattedSalary = computed(() => {
      // toLocaleString() æ–¹æ³•å°†æ•°å­—æ ¼å¼åŒ–ä¸ºæœ¬åœ°åŒ–å­—ç¬¦ä¸²
      // ä¾‹å¦‚ï¼š8000 -> "8,000"ï¼Œä¾¿äºé˜…è¯»
      return `Â¥${salary.value.toLocaleString()}`
    })

    // åŸºäºå¤šä¸ªä¾èµ–çš„è®¡ç®—å±æ€§ - ç»„åˆå¤šä¸ªè®¡ç®—å±æ€§å’Œå“åº”å¼æ•°æ®
    const userInfo = computed(() => {
      // è¿™ä¸ªè®¡ç®—å±æ€§ä¾èµ–äºï¼š
      // 1. fullNameï¼ˆè®¡ç®—å±æ€§ï¼‰
      // 2. ageï¼ˆå“åº”å¼æ•°æ®ï¼‰
      // 3. formattedSalaryï¼ˆè®¡ç®—å±æ€§ï¼‰
      // å½“ä»»ä½•ä¸€ä¸ªä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒuserInfoéƒ½ä¼šé‡æ–°è®¡ç®—
      return `${fullName.value}ï¼Œ${age.value}å²ï¼Œæœˆè–ª${formattedSalary.value}`
    })

    // è¾…åŠ©æ–¹æ³• - ç”¨äºæ¼”ç¤ºè®¡ç®—å±æ€§çš„å“åº”å¼ç‰¹æ€§
    function updateFirstName() {
      // åˆ‡æ¢å§“æ°ï¼Œè§¦å‘fullNameå’ŒuserInfoé‡æ–°è®¡ç®—
      firstName.value = firstName.value === 'å¼ ' ? 'æ' : 'å¼ '
    }

    function updateAge() {
      // ç”Ÿæˆ20-40ä¹‹é—´çš„éšæœºå¹´é¾„ï¼Œè§¦å‘userInfoé‡æ–°è®¡ç®—
      age.value = Math.floor(Math.random() * 21) + 20
    }

    function updateSalary() {
      // ç”Ÿæˆ5000-15000ä¹‹é—´çš„éšæœºè–ªèµ„ï¼Œè§¦å‘formattedSalaryå’ŒuserInfoé‡æ–°è®¡ç®—
      salary.value = Math.floor(Math.random() * 10000) + 5000
    }

    return {
      firstName,
      lastName,
      age,
      salary,
      fullName,
      formattedSalary,
      userInfo,
      updateFirstName,
      updateAge,
      updateSalary
    }
  },
  template: `
    <div class="demo-item">
      <h3>åŸºç¡€è®¡ç®—å±æ€§ç¤ºä¾‹</h3>
      <div style="margin: 1rem 0;">
        <p><strong>å§“:</strong> 
          <input v-model="firstName" style="width: 60px; margin-left: 0.5rem;">
        </p>
        <p><strong>å:</strong> 
          <input v-model="lastName" style="width: 60px; margin-left: 0.5rem;">
        </p>
        <p><strong>å¹´é¾„:</strong> {{ age }}å²</p>
        <p><strong>è–ªèµ„:</strong> {{ formattedSalary }}</p>
      </div>
      <div style="padding: 1rem; background: #f8f9fa; border-radius: 4px; margin: 1rem 0;">
        <p><strong>å…¨å:</strong> {{ fullName }}</p>
        <p><strong>ç”¨æˆ·ä¿¡æ¯:</strong> {{ userInfo }}</p>
      </div>
      <div>
        <button @click="updateFirstName">åˆ‡æ¢å§“æ°</button>
        <button @click="updateAge">éšæœºå¹´é¾„</button>
        <button @click="updateSalary">éšæœºè–ªèµ„</button>
      </div>
      <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
        ğŸ’¡ æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹è®¡ç®—å±æ€§çš„ç¼“å­˜æ•ˆæœ
      </p>
    </div>
  `
})

// è®¡ç®—å±æ€§ vs æ–¹æ³•å¯¹æ¯”ç¤ºä¾‹ç»„ä»¶
const ComputedVsMethodDemo = defineComponent({
  setup() {
    // å“åº”å¼æ•°æ®å®šä¹‰
    const numbers = ref([1, 2, 3, 4, 5])  // æ•°å­—æ•°ç»„ï¼Œç”¨äºè®¡ç®—
    const multiplier = ref(2)              // ä¹˜æ•°ï¼Œå½±å“è®¡ç®—ç»“æœ
    const callCount = ref({ computed: 0, method: 0 })

    // è®¡ç®—å±æ€§ç‰ˆæœ¬ - å…·æœ‰ç¼“å­˜æœºåˆ¶
    const computedSum = computed(() => {
      // è¿™ä¸ªconsole.logç”¨äºæ¼”ç¤ºç¼“å­˜æœºåˆ¶
      // åªæœ‰å½“numbersæˆ–multiplierå‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šæ‰§è¡Œ
      callCount.value.computed++
      console.log('ğŸ”„ è®¡ç®—å±æ€§è¢«è°ƒç”¨:', callCount.value.computed)
      
      // è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—ä¹˜ä»¥multiplieråçš„æ€»å’Œ
      // Vueä¼šè‡ªåŠ¨è¿½è¸ªnumberså’Œmultiplierçš„å˜åŒ–
      // å½“ä¾èµ–ä¸å˜æ—¶ï¼Œå¤šæ¬¡è®¿é—®ä¼šä½¿ç”¨ç¼“å­˜ç»“æœ
      return numbers.value.reduce((sum, num) => sum + num * multiplier.value, 0)
    })

    // æ–¹æ³•ç‰ˆæœ¬ - æ¯æ¬¡è°ƒç”¨éƒ½æ‰§è¡Œ
    function methodSum() {
      // è¿™ä¸ªconsole.logç”¨äºæ¼”ç¤ºæ–¹æ³•çš„æ‰§è¡Œç‰¹ç‚¹
      // æ¯æ¬¡è°ƒç”¨æ–¹æ³•éƒ½ä¼šæ‰§è¡Œè¿™è¡Œä»£ç 
      callCount.value.method++
      console.log('âš¡ æ–¹æ³•è¢«è°ƒç”¨:', callCount.value.method)
      
      // æ‰§è¡Œç›¸åŒçš„è®¡ç®—é€»è¾‘
      // ä½†æ˜¯æ¯æ¬¡è°ƒç”¨éƒ½ä¼šé‡æ–°è®¡ç®—ï¼Œæ²¡æœ‰ç¼“å­˜æœºåˆ¶
      return numbers.value.reduce((sum, num) => sum + num * multiplier.value, 0)
    }

    function addNumber() {
      numbers.value.push(numbers.value.length + 1)
    }

    function updateMultiplier() {
      multiplier.value = multiplier.value === 2 ? 3 : 2
    }

    function resetCallCount() {
      callCount.value = { computed: 0, method: 0 }
    }

    return {
      numbers,
      multiplier,
      callCount,
      computedSum,
      methodSum,
      addNumber,
      updateMultiplier,
      resetCallCount
    }
  },
  template: `
    <div class="demo-item">
      <h3>è®¡ç®—å±æ€§ vs æ–¹æ³•å¯¹æ¯”</h3>
      <div style="margin: 1rem 0;">
        <p><strong>æ•°ç»„:</strong> [{{ numbers.join(', ') }}]</p>
        <p><strong>ä¹˜æ•°:</strong> {{ multiplier }}</p>
      </div>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0;">
        <div style="padding: 1rem; border: 1px solid #ddd; border-radius: 4px;">
          <h4>è®¡ç®—å±æ€§ (æœ‰ç¼“å­˜)</h4>
          <p>ç»“æœ: {{ computedSum }}</p>
          <p>ç»“æœ: {{ computedSum }}</p>
          <p>ç»“æœ: {{ computedSum }}</p>
          <p style="color: #666;">è°ƒç”¨æ¬¡æ•°: {{ callCount.computed }}</p>
        </div>
        <div style="padding: 1rem; border: 1px solid #ddd; border-radius: 4px;">
          <h4>æ–¹æ³• (æ— ç¼“å­˜)</h4>
          <p>ç»“æœ: {{ methodSum() }}</p>
          <p>ç»“æœ: {{ methodSum() }}</p>
          <p>ç»“æœ: {{ methodSum() }}</p>
          <p style="color: #666;">è°ƒç”¨æ¬¡æ•°: {{ callCount.method }}</p>
        </div>
      </div>
      <div>
        <button @click="addNumber">æ·»åŠ æ•°å­—</button>
        <button @click="updateMultiplier">æ”¹å˜ä¹˜æ•°</button>
        <button @click="resetCallCount">é‡ç½®è®¡æ•°</button>
      </div>
      <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
        ğŸ’¡ æ³¨æ„è§‚å¯Ÿè°ƒç”¨æ¬¡æ•°çš„å·®å¼‚ï¼Œè®¡ç®—å±æ€§æœ‰ç¼“å­˜æœºåˆ¶
      </p>
    </div>
  `
})

// å¯å†™è®¡ç®—å±æ€§ç¤ºä¾‹ç»„ä»¶
const WritableComputedDemo = defineComponent({
  setup() {
    // åŸºç¡€å“åº”å¼æ•°æ® - ç”¨äºæ„å»ºå¯å†™è®¡ç®—å±æ€§
    const firstName = ref('å¼ ')                    // å§“æ°
    const lastName = ref('ä¸‰')                     // åå­—
    const email = ref('zhangsan@example.com')      // é‚®ç®±åœ°å€
    const phone = ref('138-0000-0000')             // ç”µè¯å·ç 

    // å¯å†™è®¡ç®—å±æ€§ - æ”¯æŒgetterå’Œsetterçš„è®¡ç®—å±æ€§
    const fullName = computed({
      // getterï¼šå½“è®¿é—®fullNameæ—¶æ‰§è¡Œï¼Œè¿”å›ç»„åˆåçš„å…¨å
      get() {
        // å°†å§“å’Œåç»„åˆæˆå®Œæ•´å§“å
        return `${firstName.value} ${lastName.value}`
      },
      // setterï¼šå½“ç»™fullNameèµ‹å€¼æ—¶æ‰§è¡Œï¼Œè§£æå¹¶æ›´æ–°åº•å±‚æ•°æ®
      set(value) {
        // å°†è¾“å…¥çš„å…¨åæŒ‰ç©ºæ ¼åˆ†å‰²ä¸ºå§“å’Œå
        const names = value.split(' ')
        firstName.value = names[0] || ''  // ç¬¬ä¸€éƒ¨åˆ†ä½œä¸ºå§“
        lastName.value = names[1] || ''   // ç¬¬äºŒéƒ¨åˆ†ä½œä¸ºå
      }
    })

    // å¤æ‚çš„å¯å†™è®¡ç®—å±æ€§ - å¤„ç†å¤šä¸ªå­—æ®µçš„ç»„åˆ
    const contact = computed({
      // getterï¼šè¿”å›æ ¼å¼åŒ–çš„è”ç³»æ–¹å¼å­—ç¬¦ä¸²
      get() {
        // å°†é‚®ç®±å’Œç”µè¯ç”¨" | "è¿æ¥
        return `${email.value} | ${phone.value}`
      },
      // setterï¼šè§£æè”ç³»æ–¹å¼å­—ç¬¦ä¸²å¹¶æ›´æ–°å¯¹åº”å­—æ®µ
      set(value) {
        // æŒ‰" | "åˆ†å‰²å­—ç¬¦ä¸²
        const parts = value.split(' | ')
        email.value = parts[0] || ''  // ç¬¬ä¸€éƒ¨åˆ†ä¸ºé‚®ç®±
        phone.value = parts[1] || ''  // ç¬¬äºŒéƒ¨åˆ†ä¸ºç”µè¯
      }
    })

    function randomName() {
      const names = ['å¼  ä¸‰', 'æ å››', 'ç‹ äº”', 'èµµ å…­']
      fullName.value = names[Math.floor(Math.random() * names.length)]
    }

    function randomContact() {
      const contacts = [
        'john@example.com | 138-1111-1111',
        'jane@example.com | 139-2222-2222',
        'bob@example.com | 137-3333-3333'
      ]
      contact.value = contacts[Math.floor(Math.random() * contacts.length)]
    }

    return {
      firstName,
      lastName,
      email,
      phone,
      fullName,
      contact,
      randomName,
      randomContact
    }
  },
  template: `
    <div class="demo-item">
      <h3>å¯å†™è®¡ç®—å±æ€§ç¤ºä¾‹</h3>
      <div style="margin: 1rem 0;">
        <div style="margin-bottom: 1rem;">
          <label><strong>å…¨å (å¯å†™è®¡ç®—å±æ€§):</strong></label>
          <input v-model="fullName" style="width: 200px; margin-left: 0.5rem;" placeholder="è¾“å…¥ 'å§“ å'">
        </div>
        <div style="margin-bottom: 1rem;">
          <label><strong>è”ç³»æ–¹å¼ (å¯å†™è®¡ç®—å±æ€§):</strong></label>
          <input v-model="contact" style="width: 300px; margin-left: 0.5rem;" placeholder="è¾“å…¥ 'é‚®ç®± | ç”µè¯'">
        </div>
      </div>
      <div style="padding: 1rem; background: #f8f9fa; border-radius: 4px; margin: 1rem 0;">
        <h4>åº•å±‚æ•°æ®:</h4>
        <p><strong>å§“:</strong> {{ firstName }}</p>
        <p><strong>å:</strong> {{ lastName }}</p>
        <p><strong>é‚®ç®±:</strong> {{ email }}</p>
        <p><strong>ç”µè¯:</strong> {{ phone }}</p>
      </div>
      <div>
        <button @click="randomName">éšæœºå§“å</button>
        <button @click="randomContact">éšæœºè”ç³»æ–¹å¼</button>
      </div>
      <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
        ğŸ’¡ ä¿®æ”¹è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨æ›´æ–°åº•å±‚æ•°æ®
      </p>
    </div>
  `
})

// å¤æ‚è®¡ç®—å±æ€§ç¤ºä¾‹ç»„ä»¶ - å±•ç¤ºå¤šå±‚è®¡ç®—å±æ€§çš„ç»„åˆä½¿ç”¨
const ComplexComputedDemo = defineComponent({
  setup() {
    // äº§å“æ•°æ® - æ¨¡æ‹Ÿå•†å“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®ç»“æ„
    const products = ref([
      { id: 1, name: 'iPhone 14', price: 5999, category: 'æ‰‹æœº', inStock: true },
      { id: 2, name: 'MacBook Pro', price: 12999, category: 'ç”µè„‘', inStock: true },
      { id: 3, name: 'iPad Air', price: 4399, category: 'å¹³æ¿', inStock: false },
      { id: 4, name: 'Apple Watch', price: 2999, category: 'æ‰‹è¡¨', inStock: true },
      { id: 5, name: 'AirPods Pro', price: 1999, category: 'è€³æœº', inStock: true }
    ])

    // è¿‡æ»¤å’Œæ’åºçš„æ§åˆ¶çŠ¶æ€
    const searchText = ref('')           // æœç´¢å…³é”®è¯
    const selectedCategory = ref('å…¨éƒ¨')  // é€‰ä¸­çš„åˆ†ç±»
    const sortBy = ref('name')           // æ’åºæ–¹å¼
    const showInStockOnly = ref(false)   // æ˜¯å¦åªæ˜¾ç¤ºæœ‰åº“å­˜çš„å•†å“

    // ç¬¬ä¸€å±‚è®¡ç®—å±æ€§ï¼šè¿‡æ»¤åçš„äº§å“åˆ—è¡¨
    // æ ¹æ®å¤šä¸ªæ¡ä»¶è¿‡æ»¤äº§å“ï¼Œå±•ç¤ºè®¡ç®—å±æ€§çš„å¤šé‡ä¾èµ–
    const filteredProducts = computed(() => {
      let result = products.value

      // æŒ‰åº“å­˜çŠ¶æ€è¿‡æ»¤ - å¦‚æœå‹¾é€‰"ä»…æ˜¾ç¤ºæœ‰åº“å­˜"ï¼Œåˆ™è¿‡æ»¤æ‰ç¼ºè´§å•†å“
      if (showInStockOnly.value) {
        result = result.filter(p => p.inStock)
      }

      // æŒ‰å•†å“åˆ†ç±»è¿‡æ»¤ - å¦‚æœé€‰æ‹©äº†å…·ä½“åˆ†ç±»ï¼Œåˆ™åªæ˜¾ç¤ºè¯¥åˆ†ç±»çš„å•†å“
      if (selectedCategory.value !== 'å…¨éƒ¨') {
        result = result.filter(p => p.category === selectedCategory.value)
      }

      // æŒ‰æœç´¢å…³é”®è¯è¿‡æ»¤ - åœ¨å•†å“åç§°ä¸­æœç´¢ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰
      if (searchText.value) {
        result = result.filter(p => 
          p.name.toLowerCase().includes(searchText.value.toLowerCase())
        )
      }

      return result
    })

    // ç¬¬äºŒå±‚è®¡ç®—å±æ€§ï¼šæ’åºåçš„äº§å“åˆ—è¡¨
    // åŸºäºfilteredProductsè®¡ç®—å±æ€§è¿›è¡Œæ’åºï¼Œå±•ç¤ºè®¡ç®—å±æ€§çš„é“¾å¼ä¾èµ–
    const sortedProducts = computed(() => {
      // åˆ›å»ºå‰¯æœ¬é¿å…ä¿®æ”¹åŸæ•°ç»„ï¼ˆVueçš„æœ€ä½³å®è·µï¼‰
      const result = [...filteredProducts.value]
      
      // æ ¹æ®é€‰æ‹©çš„æ’åºæ–¹å¼è¿›è¡Œæ’åº
      switch (sortBy.value) {
        case 'name':
          // æŒ‰å•†å“åç§°å­—æ¯é¡ºåºæ’åºï¼ˆæ”¯æŒä¸­æ–‡æ’åºï¼‰
          return result.sort((a, b) => a.name.localeCompare(b.name))
        case 'price':
          // æŒ‰ä»·æ ¼ä»ä½åˆ°é«˜æ’åº
          return result.sort((a, b) => a.price - b.price)
        case 'priceDesc':
          // æŒ‰ä»·æ ¼ä»é«˜åˆ°ä½æ’åº
          return result.sort((a, b) => b.price - a.price)
        default:
          return result
      }
    })

    // ç¬¬ä¸‰å±‚è®¡ç®—å±æ€§ï¼šç»Ÿè®¡ä¿¡æ¯
    // åŸºäºfilteredProductsè®¡ç®—å„ç§ç»Ÿè®¡æ•°æ®ï¼Œå±•ç¤ºè®¡ç®—å±æ€§çš„æ•°æ®èšåˆèƒ½åŠ›
    const statistics = computed(() => {
      const total = filteredProducts.value.length  // è¿‡æ»¤åçš„å•†å“æ€»æ•°
      const inStock = filteredProducts.value.filter(p => p.inStock).length  // æœ‰åº“å­˜çš„å•†å“æ•°é‡
      const totalValue = filteredProducts.value.reduce((sum, p) => sum + p.price, 0)  // å•†å“æ€»ä»·å€¼
      const avgPrice = total > 0 ? Math.round(totalValue / total) : 0  // å¹³å‡ä»·æ ¼ï¼ˆå››èˆäº”å…¥ï¼‰

      return {
        total,           // æ€»å•†å“æ•°
        inStock,         // æœ‰åº“å­˜æ•°é‡
        outOfStock: total - inStock,  // ç¼ºè´§æ•°é‡
        totalValue,      // æ€»ä»·å€¼
        avgPrice         // å¹³å‡ä»·æ ¼
      }
    })

    // ç¬¬å››å±‚è®¡ç®—å±æ€§ï¼šåŠ¨æ€åˆ†ç±»åˆ—è¡¨
    // ä»å•†å“æ•°æ®ä¸­æå–æ‰€æœ‰åˆ†ç±»ï¼Œç”¨äºç”Ÿæˆåˆ†ç±»é€‰æ‹©å™¨
    const categories = computed(() => {
      // ä½¿ç”¨Setå»é‡ï¼Œè·å–æ‰€æœ‰ä¸é‡å¤çš„åˆ†ç±»
      const cats = [...new Set(products.value.map(p => p.category))]
      // åœ¨åˆ†ç±»åˆ—è¡¨å‰æ·»åŠ "å…¨éƒ¨"é€‰é¡¹
      return ['å…¨éƒ¨', ...cats]
    })

    return {
      products,
      searchText,
      selectedCategory,
      sortBy,
      showInStockOnly,
      sortedProducts,
      statistics,
      categories
    }
  },
  template: `
    <div class="demo-item">
      <h3>å¤æ‚è®¡ç®—å±æ€§ç¤ºä¾‹ - äº§å“ç®¡ç†</h3>
      
      <!-- è¿‡æ»¤æ§ä»¶ -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1rem 0; padding: 1rem; background: #f8f9fa; border-radius: 4px;">
        <div>
          <label>æœç´¢:</label>
          <input v-model="searchText" placeholder="æœç´¢äº§å“..." style="width: 100%; margin-top: 0.25rem;">
        </div>
        <div>
          <label>åˆ†ç±»:</label>
          <select v-model="selectedCategory" style="width: 100%; margin-top: 0.25rem;">
            <option v-for="cat in categories" :key="cat" :value="cat">{{ cat }}</option>
          </select>
        </div>
        <div>
          <label>æ’åº:</label>
          <select v-model="sortBy" style="width: 100%; margin-top: 0.25rem;">
            <option value="name">æŒ‰åç§°</option>
            <option value="price">ä»·æ ¼å‡åº</option>
            <option value="priceDesc">ä»·æ ¼é™åº</option>
          </select>
        </div>
        <div>
          <label>
            <input type="checkbox" v-model="showInStockOnly" style="margin-right: 0.5rem;">
            ä»…æ˜¾ç¤ºæœ‰åº“å­˜
          </label>
        </div>
      </div>

      <!-- ç»Ÿè®¡ä¿¡æ¯ -->
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin: 1rem 0;">
        <div style="text-align: center; padding: 0.5rem; background: #e3f2fd; border-radius: 4px;">
          <div style="font-size: 1.5rem; font-weight: bold; color: #1976d2;">{{ statistics.total }}</div>
          <div style="font-size: 0.9rem; color: #666;">æ€»æ•°</div>
        </div>
        <div style="text-align: center; padding: 0.5rem; background: #e8f5e8; border-radius: 4px;">
          <div style="font-size: 1.5rem; font-weight: bold; color: #388e3c;">{{ statistics.inStock }}</div>
          <div style="font-size: 0.9rem; color: #666;">æœ‰åº“å­˜</div>
        </div>
        <div style="text-align: center; padding: 0.5rem; background: #ffebee; border-radius: 4px;">
          <div style="font-size: 1.5rem; font-weight: bold; color: #d32f2f;">{{ statistics.outOfStock }}</div>
          <div style="font-size: 0.9rem; color: #666;">ç¼ºè´§</div>
        </div>
        <div style="text-align: center; padding: 0.5rem; background: #fff3e0; border-radius: 4px;">
          <div style="font-size: 1.2rem; font-weight: bold; color: #f57c00;">Â¥{{ statistics.avgPrice }}</div>
          <div style="font-size: 0.9rem; color: #666;">å¹³å‡ä»·æ ¼</div>
        </div>
      </div>

      <!-- äº§å“åˆ—è¡¨ -->
      <div style="margin: 1rem 0;">
        <div v-if="sortedProducts.length === 0" style="text-align: center; padding: 2rem; color: #666;">
          æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„äº§å“
        </div>
        <div v-else style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem;">
          <div v-for="product in sortedProducts" :key="product.id" 
               style="padding: 1rem; border: 1px solid #ddd; border-radius: 4px; background: white;">
            <h4 style="margin: 0 0 0.5rem 0; color: #2c3e50;">{{ product.name }}</h4>
            <p style="margin: 0.25rem 0; color: #666;">åˆ†ç±»: {{ product.category }}</p>
            <p style="margin: 0.25rem 0; font-size: 1.1rem; font-weight: bold; color: #e91e63;">Â¥{{ product.price.toLocaleString() }}</p>
            <p style="margin: 0.25rem 0;" :style="{ color: product.inStock ? '#4caf50' : '#f44336' }">
              {{ product.inStock ? 'âœ… æœ‰åº“å­˜' : 'âŒ ç¼ºè´§' }}
            </p>
          </div>
        </div>
      </div>
    </div>
  `
})

// ä»£ç ç¤ºä¾‹
const basicComputedCode = `<!-- åŸºç¡€è®¡ç®—å±æ€§ç¤ºä¾‹ -->
<template>
  <div>
    <!-- è¾“å…¥æ§ä»¶ -->
    <div class="input-group">
      <label>å§“æ°ï¼š</label>
      <input v-model="firstName" placeholder="è¯·è¾“å…¥å§“æ°">
    </div>
    <div class="input-group">
      <label>åå­—ï¼š</label>
      <input v-model="lastName" placeholder="è¯·è¾“å…¥åå­—">
    </div>
    <div class="input-group">
      <label>å¹´é¾„ï¼š</label>
      <input v-model.number="age" type="number" placeholder="è¯·è¾“å…¥å¹´é¾„">
    </div>
    <div class="input-group">
      <label>è–ªèµ„ï¼š</label>
      <input v-model.number="salary" type="number" placeholder="è¯·è¾“å…¥è–ªèµ„">
    </div>
    
    <!-- è®¡ç®—å±æ€§ç»“æœå±•ç¤º -->
    <div class="result-display">
      <h3>è®¡ç®—å±æ€§ç»“æœï¼š</h3>
      <!-- è®¡ç®—å±æ€§åœ¨æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…ï¼Œæ— éœ€.value -->
      <p><strong>å…¨åï¼š</strong>{{ fullName }}</p>
      <p><strong>æ ¼å¼åŒ–è–ªèµ„ï¼š</strong>{{ formattedSalary }}</p>
      <p><strong>ç”¨æˆ·ä¿¡æ¯ï¼š</strong>{{ userInfo }}</p>
    </div>
    
    <!-- æ“ä½œæŒ‰é’® -->
    <div class="button-group">
      <button @click="updateFirstName">åˆ‡æ¢å§“æ°</button>
      <button @click="updateAge">éšæœºå¹´é¾„</button>
      <button @click="updateSalary">éšæœºè–ªèµ„</button>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'

// åˆ›å»ºå“åº”å¼æ•°æ®
// ref() åˆ›å»ºåŸºæœ¬ç±»å‹çš„å“åº”å¼å¼•ç”¨
const firstName = ref('å¼ ')    // å§“æ°ï¼Œåˆå§‹å€¼ä¸º'å¼ '
const lastName = ref('ä¸‰')     // åå­—ï¼Œåˆå§‹å€¼ä¸º'ä¸‰'
const age = ref(25)            // å¹´é¾„ï¼Œåˆå§‹å€¼ä¸º25
const salary = ref(8000)       // è–ªèµ„ï¼Œåˆå§‹å€¼ä¸º8000

// åŸºç¡€è®¡ç®—å±æ€§ - åŸºäºfirstNameå’ŒlastNameè®¡ç®—å…¨å
const fullName = computed(() => {
  // è¿™ä¸ªconsole.logç”¨äºæ¼”ç¤ºç¼“å­˜æœºåˆ¶
  // åªæœ‰å½“firstNameæˆ–lastNameå‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¿™è¡Œä»£ç æ‰ä¼šæ‰§è¡Œ
  console.log('æ­£åœ¨è®¡ç®—fullName...')
  
  // è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨è¿½è¸ªå…¶å†…éƒ¨ä½¿ç”¨çš„å“åº”å¼æ•°æ®ï¼ˆfirstNameå’ŒlastNameï¼‰
  // å½“è¿™äº›ä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šè‡ªåŠ¨é‡æ–°è®¡ç®—
  return \`\${firstName.value}\${lastName.value}\`
})

// æ ¼å¼åŒ–è®¡ç®—å±æ€§ - å°†æ•°å­—æ ¼å¼åŒ–ä¸ºè´§å¸æ˜¾ç¤º
const formattedSalary = computed(() => {
  // toLocaleString() æ–¹æ³•å°†æ•°å­—æ ¼å¼åŒ–ä¸ºæœ¬åœ°åŒ–å­—ç¬¦ä¸²
  // ä¾‹å¦‚ï¼š8000 -> "8,000"ï¼Œä¾¿äºé˜…è¯»
  return \`Â¥\${salary.value.toLocaleString()}\`
})

// åŸºäºå¤šä¸ªä¾èµ–çš„è®¡ç®—å±æ€§ - ç»„åˆå¤šä¸ªè®¡ç®—å±æ€§å’Œå“åº”å¼æ•°æ®
const userInfo = computed(() => {
  // è¿™ä¸ªè®¡ç®—å±æ€§ä¾èµ–äºï¼š
  // 1. fullNameï¼ˆè®¡ç®—å±æ€§ï¼‰
  // 2. ageï¼ˆå“åº”å¼æ•°æ®ï¼‰
  // 3. formattedSalaryï¼ˆè®¡ç®—å±æ€§ï¼‰
  // å½“ä»»ä½•ä¸€ä¸ªä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒuserInfoéƒ½ä¼šé‡æ–°è®¡ç®—
  return \`\${fullName.value}ï¼Œ\${age.value}å²ï¼Œæœˆè–ª\${formattedSalary.value}\`
})

// è¾…åŠ©æ–¹æ³•
function updateFirstName() {
  // åˆ‡æ¢å§“æ°ï¼Œè§¦å‘fullNameå’ŒuserInfoé‡æ–°è®¡ç®—
  firstName.value = firstName.value === 'å¼ ' ? 'æ' : 'å¼ '
}

function updateAge() {
  // ç”Ÿæˆ20-40ä¹‹é—´çš„éšæœºå¹´é¾„ï¼Œè§¦å‘userInfoé‡æ–°è®¡ç®—
  age.value = Math.floor(Math.random() * 21) + 20
}

function updateSalary() {
  // ç”Ÿæˆ5000-15000ä¹‹é—´çš„éšæœºè–ªèµ„ï¼Œè§¦å‘formattedSalaryå’ŒuserInfoé‡æ–°è®¡ç®—
  salary.value = Math.floor(Math.random() * 10000) + 5000
}

// è®¡ç®—å±æ€§çš„ç‰¹ç‚¹ï¼š
// 1. ç¼“å­˜æ€§ï¼šåŸºäºå“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜ï¼Œåªæœ‰ä¾èµ–å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—
// 2. å“åº”å¼ï¼šä¾èµ–çš„æ•°æ®å˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šè‡ªåŠ¨æ›´æ–°
// 3. åªè¯»æ€§ï¼šé»˜è®¤æƒ…å†µä¸‹è®¡ç®—å±æ€§æ˜¯åªè¯»çš„ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼
// 4. è‡ªåŠ¨è¿½è¸ªï¼šVueä¼šè‡ªåŠ¨è¿½è¸ªè®¡ç®—å±æ€§å†…éƒ¨ä½¿ç”¨çš„å“åº”å¼æ•°æ®
// 5. æ¨¡æ¿å‹å¥½ï¼šåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æ—¶è‡ªåŠ¨è§£åŒ…ï¼Œæ— éœ€.value
<\/script>`

const computedVsMethodCode = `<!-- è®¡ç®—å±æ€§ vs æ–¹æ³•å¯¹æ¯”ç¤ºä¾‹ -->
<template>
  <div>
    <!-- è¾“å…¥æ§ä»¶ -->
    <div class="input-section">
      <h3>ä¿®æ”¹æ•°æ®ï¼š</h3>
      <div class="input-group">
        <label>æ•°ç»„ï¼š</label>
        <input v-model="numbersInput" placeholder="è¾“å…¥æ•°å­—ï¼Œç”¨é€—å·åˆ†éš”" @blur="updateNumbers">
      </div>
      <div class="input-group">
        <label>ä¹˜æ•°ï¼š</label>
        <input v-model.number="multiplier" type="number" placeholder="è¾“å…¥ä¹˜æ•°">
      </div>
    </div>
    
    <!-- ç»“æœå¯¹æ¯”å±•ç¤º -->
    <div class="comparison-section">
      <h3>æ€§èƒ½å¯¹æ¯”ï¼ˆæ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹æ‰§è¡Œæ¬¡æ•°ï¼‰ï¼š</h3>
      
      <!-- è®¡ç®—å±æ€§ - å…·æœ‰ç¼“å­˜æœºåˆ¶ -->
      <div class="computed-section">
        <h4>è®¡ç®—å±æ€§ï¼ˆæœ‰ç¼“å­˜ï¼‰ï¼š</h4>
        <p>ç¬¬1æ¬¡è®¿é—®ï¼š{{ computedSum }}</p>
        <p>ç¬¬2æ¬¡è®¿é—®ï¼š{{ computedSum }}</p>
        <p>ç¬¬3æ¬¡è®¿é—®ï¼š{{ computedSum }}</p>
        <small>æ³¨æ„ï¼šå¤šæ¬¡è®¿é—®åªè®¡ç®—ä¸€æ¬¡ï¼Œåç»­ä½¿ç”¨ç¼“å­˜</small>
      </div>
      
      <!-- æ–¹æ³• - æ¯æ¬¡è°ƒç”¨éƒ½æ‰§è¡Œ -->
      <div class="method-section">
        <h4>æ–¹æ³•ï¼ˆæ— ç¼“å­˜ï¼‰ï¼š</h4>
        <p>ç¬¬1æ¬¡è°ƒç”¨ï¼š{{ methodSum() }}</p>
        <p>ç¬¬2æ¬¡è°ƒç”¨ï¼š{{ methodSum() }}</p>
        <p>ç¬¬3æ¬¡è°ƒç”¨ï¼š{{ methodSum() }}</p>
        <small>æ³¨æ„ï¼šæ¯æ¬¡è°ƒç”¨éƒ½é‡æ–°è®¡ç®—</small>
      </div>
    </div>
    
    <!-- æ“ä½œæŒ‰é’® -->
    <div class="button-group">
      <button @click="addNumber">æ·»åŠ éšæœºæ•°</button>
      <button @click="changeMultiplier">æ”¹å˜ä¹˜æ•°</button>
      <button @click="resetData">é‡ç½®æ•°æ®</button>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'

// å“åº”å¼æ•°æ®
const numbers = ref([1, 2, 3, 4, 5])  // æ•°å­—æ•°ç»„
const multiplier = ref(2)              // ä¹˜æ•°
const numbersInput = ref('1,2,3,4,5')  // è¾“å…¥æ¡†ç»‘å®šçš„å­—ç¬¦ä¸²

// è®¡ç®—å±æ€§ç‰ˆæœ¬ - å…·æœ‰ç¼“å­˜æœºåˆ¶
const computedSum = computed(() => {
  // è¿™ä¸ªconsole.logç”¨äºæ¼”ç¤ºç¼“å­˜æœºåˆ¶
  // åªæœ‰å½“numbersæˆ–multiplierå‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šæ‰§è¡Œ
  console.log('ğŸ”„ è®¡ç®—å±æ€§æ‰§è¡Œäº† - computedSum')
  
  // è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªæ•°å­—ä¹˜ä»¥multiplieråçš„æ€»å’Œ
  // Vueä¼šè‡ªåŠ¨è¿½è¸ªnumberså’Œmultiplierçš„å˜åŒ–
  // å½“ä¾èµ–ä¸å˜æ—¶ï¼Œå¤šæ¬¡è®¿é—®ä¼šä½¿ç”¨ç¼“å­˜ç»“æœ
  return numbers.value.reduce((sum, num) => sum + num * multiplier.value, 0)
})

// æ–¹æ³•ç‰ˆæœ¬ - æ¯æ¬¡è°ƒç”¨éƒ½æ‰§è¡Œ
function methodSum() {
  // è¿™ä¸ªconsole.logç”¨äºæ¼”ç¤ºæ–¹æ³•çš„æ‰§è¡Œç‰¹ç‚¹
  // æ¯æ¬¡è°ƒç”¨æ–¹æ³•éƒ½ä¼šæ‰§è¡Œè¿™è¡Œä»£ç 
  console.log('âš¡ æ–¹æ³•æ‰§è¡Œäº† - methodSum')
  
  // æ‰§è¡Œç›¸åŒçš„è®¡ç®—é€»è¾‘
  // ä½†æ˜¯æ¯æ¬¡è°ƒç”¨éƒ½ä¼šé‡æ–°è®¡ç®—ï¼Œæ²¡æœ‰ç¼“å­˜æœºåˆ¶
  return numbers.value.reduce((sum, num) => sum + num * multiplier.value, 0)
}

// è¾…åŠ©æ–¹æ³•
function updateNumbers() {
  // å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—æ•°ç»„
  try {
    const newNumbers = numbersInput.value
      .split(',')
      .map(str => parseFloat(str.trim()))
      .filter(num => !isNaN(num))
    
    if (newNumbers.length > 0) {
      numbers.value = newNumbers
    }
  } catch (error) {
    console.error('è¾“å…¥æ ¼å¼é”™è¯¯')
  }
}

function addNumber() {
  // æ·»åŠ ä¸€ä¸ª1-10ä¹‹é—´çš„éšæœºæ•°
  const randomNum = Math.floor(Math.random() * 10) + 1
  numbers.value.push(randomNum)
  numbersInput.value = numbers.value.join(',')
}

function changeMultiplier() {
  // éšæœºæ”¹å˜ä¹˜æ•°ï¼ˆ1-5ä¹‹é—´ï¼‰
  multiplier.value = Math.floor(Math.random() * 5) + 1
}

function resetData() {
  // é‡ç½®ä¸ºåˆå§‹æ•°æ®
  numbers.value = [1, 2, 3, 4, 5]
  multiplier.value = 2
  numbersInput.value = '1,2,3,4,5'
}

// è®¡ç®—å±æ€§ vs æ–¹æ³•çš„åŒºåˆ«ï¼š
// 
// è®¡ç®—å±æ€§ï¼ˆcomputedï¼‰ï¼š
// 1. ç¼“å­˜æœºåˆ¶ï¼šåŸºäºå“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜ï¼Œä¾èµ–ä¸å˜æ—¶ä½¿ç”¨ç¼“å­˜
// 2. å“åº”å¼ï¼šä¾èµ–å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°è®¡ç®—
// 3. å£°æ˜å¼ï¼šåƒæ•°æ®å±æ€§ä¸€æ ·ä½¿ç”¨ï¼Œä¸éœ€è¦è°ƒç”¨
// 4. æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—
// 5. é€‚ç”¨åœºæ™¯ï¼šå¤æ‚è®¡ç®—ã€æ ¼å¼åŒ–æ•°æ®ã€åŸºäºå…¶ä»–æ•°æ®çš„æ´¾ç”Ÿæ•°æ®
// 
// æ–¹æ³•ï¼ˆmethodsï¼‰ï¼š
// 1. æ— ç¼“å­˜ï¼šæ¯æ¬¡è°ƒç”¨éƒ½é‡æ–°æ‰§è¡Œ
// 2. å‘½ä»¤å¼ï¼šéœ€è¦ä¸»åŠ¨è°ƒç”¨
// 3. çµæ´»æ€§ï¼šå¯ä»¥æ¥æ”¶å‚æ•°ï¼Œæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œ
// 4. é€‚ç”¨åœºæ™¯ï¼šäº‹ä»¶å¤„ç†ã€ç”¨æˆ·äº¤äº’ã€éœ€è¦å‚æ•°çš„è®¡ç®—
<\/script>`

const writableComputedCode = `<!-- å¯å†™è®¡ç®—å±æ€§ç¤ºä¾‹ -->
<template>
  <div>
    <!-- å¯å†™è®¡ç®—å±æ€§è¾“å…¥ -->
    <div class="writable-inputs">
      <h3>å¯å†™è®¡ç®—å±æ€§ï¼š</h3>
      <div class="input-group">
        <label>å…¨åï¼ˆå¯å†™è®¡ç®—å±æ€§ï¼‰ï¼š</label>
        <!-- ç›´æ¥ç»‘å®šåˆ°å¯å†™è®¡ç®—å±æ€§ï¼Œè¾“å…¥æ—¶ä¼šè‡ªåŠ¨æ‹†åˆ† -->
        <input v-model="fullName" placeholder="è¾“å…¥å…¨åï¼Œå¦‚ï¼šå¼  ä¸‰">
      </div>
      <div class="input-group">
        <label>è”ç³»æ–¹å¼ï¼ˆå¯å†™è®¡ç®—å±æ€§ï¼‰ï¼š</label>
        <!-- è¾“å…¥æ ¼å¼ï¼šé‚®ç®± | ç”µè¯ -->
        <input v-model="contact" placeholder="è¾“å…¥è”ç³»æ–¹å¼ï¼Œå¦‚ï¼šemail@example.com | 13800138000">
      </div>
    </div>
    
    <!-- åŸºç¡€æ•°æ®è¾“å…¥ -->
    <div class="basic-inputs">
      <h3>åŸºç¡€æ•°æ®ï¼š</h3>
      <div class="input-group">
        <label>å§“æ°ï¼š</label>
        <input v-model="firstName" placeholder="è¾“å…¥å§“æ°">
      </div>
      <div class="input-group">
        <label>åå­—ï¼š</label>
        <input v-model="lastName" placeholder="è¾“å…¥åå­—">
      </div>
      <div class="input-group">
        <label>é‚®ç®±ï¼š</label>
        <input v-model="email" type="email" placeholder="è¾“å…¥é‚®ç®±">
      </div>
      <div class="input-group">
        <label>ç”µè¯ï¼š</label>
        <input v-model="phone" placeholder="è¾“å…¥ç”µè¯">
      </div>
    </div>
    
    <!-- ç»“æœå±•ç¤º -->
    <div class="result-display">
      <h3>å®æ—¶ç»“æœï¼š</h3>
      <p><strong>è®¡ç®—å±æ€§å…¨åï¼š</strong>{{ fullName }}</p>
      <p><strong>è®¡ç®—å±æ€§è”ç³»æ–¹å¼ï¼š</strong>{{ contact }}</p>
      <p><strong>åŸºç¡€æ•°æ® - å§“æ°ï¼š</strong>{{ firstName }}</p>
      <p><strong>åŸºç¡€æ•°æ® - åå­—ï¼š</strong>{{ lastName }}</p>
      <p><strong>åŸºç¡€æ•°æ® - é‚®ç®±ï¼š</strong>{{ email }}</p>
      <p><strong>åŸºç¡€æ•°æ® - ç”µè¯ï¼š</strong>{{ phone }}</p>
    </div>
    
    <!-- æ“ä½œæŒ‰é’® -->
    <div class="button-group">
      <button @click="setRandomName">è®¾ç½®éšæœºå§“å</button>
      <button @click="setRandomContact">è®¾ç½®éšæœºè”ç³»æ–¹å¼</button>
      <button @click="resetData">é‡ç½®æ•°æ®</button>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'

// åŸºç¡€å“åº”å¼æ•°æ®
const firstName = ref('å¼ ')                    // å§“æ°
const lastName = ref('ä¸‰')                     // åå­—
const email = ref('zhangsan@example.com')      // é‚®ç®±
const phone = ref('13800138000')               // ç”µè¯

// å¯å†™è®¡ç®—å±æ€§ - å…¨å
// å¯å†™è®¡ç®—å±æ€§éœ€è¦åŒæ—¶æä¾› get å’Œ set æ–¹æ³•
const fullName = computed({
  // getterï¼šå½“è®¿é—® fullName.value æ—¶æ‰§è¡Œ
  // ç”¨äºä»åŸºç¡€æ•°æ®è®¡ç®—å‡ºæ´¾ç”Ÿå€¼
  get() {
    console.log('ğŸ“– è¯»å– fullName')
    return \`\${firstName.value} \${lastName.value}\`
  },
  
  // setterï¼šå½“ç»™ fullName.value èµ‹å€¼æ—¶æ‰§è¡Œ
  // ç”¨äºå°†æ–°å€¼æ‹†åˆ†å¹¶æ›´æ–°åŸºç¡€æ•°æ®
  set(newValue) {
    console.log('âœï¸ è®¾ç½® fullName:', newValue)
    
    // å°†è¾“å…¥çš„å…¨åæŒ‰ç©ºæ ¼æ‹†åˆ†
    const names = newValue.split(' ')
    
    // æ›´æ–°åŸºç¡€æ•°æ®
    // ç¬¬ä¸€éƒ¨åˆ†ä½œä¸ºå§“æ°ï¼Œç¬¬äºŒéƒ¨åˆ†ä½œä¸ºåå­—
    firstName.value = names[0] || ''
    lastName.value = names[1] || ''
  }
})

// å¯å†™è®¡ç®—å±æ€§ - è”ç³»æ–¹å¼
const contact = computed({
  // getterï¼šç»„åˆé‚®ç®±å’Œç”µè¯
  get() {
    console.log('ğŸ“– è¯»å– contact')
    return \`\${email.value} | \${phone.value}\`
  },
  
  // setterï¼šæ‹†åˆ†è”ç³»æ–¹å¼å­—ç¬¦ä¸²
  set(newValue) {
    console.log('âœï¸ è®¾ç½® contact:', newValue)
    
    // æŒ‰ " | " åˆ†éš”ç¬¦æ‹†åˆ†
    const parts = newValue.split(' | ')
    
    // æ›´æ–°åŸºç¡€æ•°æ®
    email.value = parts[0] || ''
    phone.value = parts[1] || ''
  }
})

// è¾…åŠ©æ–¹æ³•
function setRandomName() {
  // é€šè¿‡å¯å†™è®¡ç®—å±æ€§è®¾ç½®éšæœºå§“å
  const names = ['æ å››', 'ç‹ äº”', 'èµµ å…­', 'é’± ä¸ƒ', 'å­™ å…«']
  const randomName = names[Math.floor(Math.random() * names.length)]
  
  // ç›´æ¥ç»™å¯å†™è®¡ç®—å±æ€§èµ‹å€¼ï¼Œä¼šè§¦å‘ setter
  fullName.value = randomName
}

function setRandomContact() {
  // é€šè¿‡å¯å†™è®¡ç®—å±æ€§è®¾ç½®éšæœºè”ç³»æ–¹å¼
  const emails = ['user1@example.com', 'user2@test.com', 'user3@demo.org']
  const phones = ['13800138001', '13900139002', '15000150003']
  
  const randomEmail = emails[Math.floor(Math.random() * emails.length)]
  const randomPhone = phones[Math.floor(Math.random() * phones.length)]
  
  // ç›´æ¥ç»™å¯å†™è®¡ç®—å±æ€§èµ‹å€¼
  contact.value = \`\${randomEmail} | \${randomPhone}\`
}

function resetData() {
  // é‡ç½®ä¸ºåˆå§‹æ•°æ®
  firstName.value = 'å¼ '
  lastName.value = 'ä¸‰'
  email.value = 'zhangsan@example.com'
  phone.value = '13800138000'
}

// å¯å†™è®¡ç®—å±æ€§çš„ç‰¹ç‚¹ï¼š
// 
// 1. åŒå‘ç»‘å®šï¼šæ—¢å¯ä»¥è¯»å–å€¼ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å€¼
// 2. è‡ªåŠ¨æ‹†åˆ†ï¼šsetter å¯ä»¥å°†å¤åˆå€¼æ‹†åˆ†ä¸ºå¤šä¸ªåŸºç¡€æ•°æ®
// 3. æ•°æ®åŒæ­¥ï¼šä¿®æ”¹è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨æ›´æ–°ç›¸å…³çš„åŸºç¡€æ•°æ®
// 4. è¡¨å•å‹å¥½ï¼šå¯ä»¥ç›´æ¥ç”¨äº v-model ç»‘å®š
// 5. é€»è¾‘å°è£…ï¼šå°†å¤æ‚çš„æ•°æ®è½¬æ¢é€»è¾‘å°è£…åœ¨è®¡ç®—å±æ€§ä¸­
// 
// ä½¿ç”¨åœºæ™¯ï¼š
// - è¡¨å•æ•°æ®çš„æ ¼å¼åŒ–å’Œè§£æ
// - å¤åˆå­—æ®µçš„ç¼–è¾‘ï¼ˆå¦‚å…¨åã€åœ°å€ç­‰ï¼‰
// - æ•°æ®çš„åŒå‘è½¬æ¢ï¼ˆå¦‚å•ä½æ¢ç®—ï¼‰
// - ä¸ç¬¬ä¸‰æ–¹ç»„ä»¶çš„æ•°æ®é€‚é…
<\/script>`

const complexComputedCode = `<!-- å¤æ‚è®¡ç®—å±æ€§ç¤ºä¾‹ - å•†å“ç®¡ç†ç³»ç»Ÿ -->
<template>
  <div class="product-management">
    <!-- ç­›é€‰æ§ä»¶ -->
    <div class="filters">
      <h3>å•†å“ç­›é€‰ï¼š</h3>
      <div class="filter-row">
        <div class="input-group">
          <label>æœç´¢ï¼š</label>
          <input v-model="searchText" placeholder="æœç´¢å•†å“åç§°">
        </div>
        <div class="input-group">
          <label>åˆ†ç±»ï¼š</label>
          <select v-model="selectedCategory">
            <option value="">å…¨éƒ¨åˆ†ç±»</option>
            <option v-for="category in categories" :key="category" :value="category">
              {{ category }}
            </option>
          </select>
        </div>
        <div class="input-group">
          <label>æ’åºï¼š</label>
          <select v-model="sortBy">
            <option value="name">æŒ‰åç§°</option>
            <option value="price-low">ä»·æ ¼ä»ä½åˆ°é«˜</option>
            <option value="price-high">ä»·æ ¼ä»é«˜åˆ°ä½</option>
          </select>
        </div>
        <div class="checkbox-group">
          <label>
            <input type="checkbox" v-model="showInStockOnly">
            ä»…æ˜¾ç¤ºæœ‰åº“å­˜
          </label>
        </div>
      </div>
    </div>
    
    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <div class="statistics">
      <h3>ç»Ÿè®¡ä¿¡æ¯ï¼š</h3>
      <div class="stats-grid">
        <div class="stat-item">
          <span class="label">æ€»æ•°ï¼š</span>
          <span class="value">{{ statistics.total }}</span>
        </div>
        <div class="stat-item">
          <span class="label">æœ‰åº“å­˜ï¼š</span>
          <span class="value">{{ statistics.inStock }}</span>
        </div>
        <div class="stat-item">
          <span class="label">ç¼ºè´§ï¼š</span>
          <span class="value">{{ statistics.outOfStock }}</span>
        </div>
        <div class="stat-item">
          <span class="label">å¹³å‡ä»·æ ¼ï¼š</span>
          <span class="value">Â¥{{ statistics.averagePrice.toLocaleString() }}</span>
        </div>
      </div>
    </div>
    
    <!-- å•†å“åˆ—è¡¨ -->
    <div class="product-list">
      <h3>å•†å“åˆ—è¡¨ï¼š</h3>
      <div class="products-grid">
        <div 
          v-for="product in sortedProducts" 
          :key="product.id" 
          class="product-card"
          :class="{ 'out-of-stock': !product.inStock }"
        >
          <h4>{{ product.name }}</h4>
          <p class="price">Â¥{{ product.price.toLocaleString() }}</p>
          <p class="category">{{ product.category }}</p>
          <p class="stock" :class="product.inStock ? 'in-stock' : 'out-of-stock'">
            {{ product.inStock ? 'æœ‰åº“å­˜' : 'ç¼ºè´§' }}
          </p>
        </div>
      </div>
      <p v-if="sortedProducts.length === 0" class="no-results">
        æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å•†å“
      </p>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'

// å•†å“æ•°æ® - æ¨¡æ‹Ÿå•†å“åº“å­˜æ•°æ®
const products = ref([
  { id: 1, name: 'iPhone 15', price: 5999, category: 'æ‰‹æœº', inStock: true },
  { id: 2, name: 'MacBook Pro', price: 12999, category: 'ç”µè„‘', inStock: false },
  { id: 3, name: 'iPad Air', price: 4599, category: 'å¹³æ¿', inStock: true },
  { id: 4, name: 'Apple Watch', price: 2999, category: 'æ‰‹è¡¨', inStock: true },
  { id: 5, name: 'AirPods Pro', price: 1999, category: 'è€³æœº', inStock: false },
  { id: 6, name: 'Samsung Galaxy', price: 4999, category: 'æ‰‹æœº', inStock: true },
  { id: 7, name: 'Dell XPS', price: 8999, category: 'ç”µè„‘', inStock: true },
  { id: 8, name: 'Sony WH-1000XM4', price: 2299, category: 'è€³æœº', inStock: false }
])

// ç­›é€‰æ¡ä»¶ - ç”¨æˆ·è¾“å…¥çš„ç­›é€‰å‚æ•°
const searchText = ref('')           // æœç´¢å…³é”®è¯
const selectedCategory = ref('')     // é€‰æ‹©çš„åˆ†ç±»
const sortBy = ref('name')           // æ’åºæ–¹å¼
const showInStockOnly = ref(false)   // æ˜¯å¦åªæ˜¾ç¤ºæœ‰åº“å­˜çš„å•†å“

// è®¡ç®—å±æ€§1ï¼šè¿‡æ»¤å•†å“ - æ ¹æ®æœç´¢æ–‡æœ¬ã€åˆ†ç±»ã€åº“å­˜çŠ¶æ€ç­›é€‰
const filteredProducts = computed(() => {
  console.log('ğŸ” æ‰§è¡Œå•†å“è¿‡æ»¤...')
  
  return products.value.filter(product => {
    // æœç´¢æ–‡æœ¬åŒ¹é… - ä¸åŒºåˆ†å¤§å°å†™çš„æ¨¡ç³Šæœç´¢
    const matchesSearch = product.name.toLowerCase().includes(searchText.value.toLowerCase())
    
    // åˆ†ç±»åŒ¹é… - å¦‚æœæ²¡æœ‰é€‰æ‹©åˆ†ç±»åˆ™æ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»
    const matchesCategory = !selectedCategory.value || product.category === selectedCategory.value
    
    // åº“å­˜çŠ¶æ€åŒ¹é… - å¦‚æœå‹¾é€‰"ä»…æ˜¾ç¤ºæœ‰åº“å­˜"åˆ™åªæ˜¾ç¤ºæœ‰åº“å­˜çš„å•†å“
    const matchesStock = !showInStockOnly.value || product.inStock
    
    // æ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³æ‰æ˜¾ç¤ºè¯¥å•†å“
    return matchesSearch && matchesCategory && matchesStock
  })
})

// è®¡ç®—å±æ€§2ï¼šæ’åºå•†å“ - æ ¹æ®é€‰æ‹©çš„æ’åºæ–¹å¼å¯¹è¿‡æ»¤åçš„å•†å“æ’åº
const sortedProducts = computed(() => {
  console.log('ğŸ“Š æ‰§è¡Œå•†å“æ’åº...')
  
  // åˆ›å»ºè¿‡æ»¤åå•†å“çš„å‰¯æœ¬ï¼Œé¿å…ç›´æ¥ä¿®æ”¹åŸæ•°ç»„
  const sorted = [...filteredProducts.value]
  
  // æ ¹æ®æ’åºæ–¹å¼è¿›è¡Œæ’åº
  switch (sortBy.value) {
    case 'name':
      // æŒ‰åç§°å­—æ¯é¡ºåºæ’åº
      return sorted.sort((a, b) => a.name.localeCompare(b.name))
    case 'price-low':
      // æŒ‰ä»·æ ¼ä»ä½åˆ°é«˜æ’åº
      return sorted.sort((a, b) => a.price - b.price)
    case 'price-high':
      // æŒ‰ä»·æ ¼ä»é«˜åˆ°ä½æ’åº
      return sorted.sort((a, b) => b.price - a.price)
    default:
      return sorted
  }
})

// è®¡ç®—å±æ€§3ï¼šç»Ÿè®¡ä¿¡æ¯ - åŸºäºè¿‡æ»¤åçš„å•†å“è®¡ç®—ç»Ÿè®¡æ•°æ®
const statistics = computed(() => {
  console.log('ğŸ“ˆ è®¡ç®—ç»Ÿè®¡ä¿¡æ¯...')
  
  const filtered = filteredProducts.value
  
  // åˆ†åˆ«ç»Ÿè®¡æœ‰åº“å­˜å’Œç¼ºè´§çš„å•†å“
  const inStock = filtered.filter(p => p.inStock)
  const outOfStock = filtered.filter(p => !p.inStock)
  
  // è®¡ç®—æ€»ä»·å€¼
  const totalValue = filtered.reduce((sum, p) => sum + p.price, 0)
  
  return {
    total: filtered.length,                    // æ€»å•†å“æ•°
    inStock: inStock.length,                   // æœ‰åº“å­˜å•†å“æ•°
    outOfStock: outOfStock.length,             // ç¼ºè´§å•†å“æ•°
    averagePrice: filtered.length > 0          // å¹³å‡ä»·æ ¼
      ? Math.round(totalValue / filtered.length) 
      : 0
  }
})

// è®¡ç®—å±æ€§4ï¼šåˆ†ç±»åˆ—è¡¨ - ä»å•†å“æ•°æ®ä¸­æå–æ‰€æœ‰å”¯ä¸€åˆ†ç±»
const categories = computed(() => {
  console.log('ğŸ·ï¸ æå–å•†å“åˆ†ç±»...')
  
  // ä½¿ç”¨ Set å»é‡ï¼Œç„¶åè½¬æ¢ä¸ºæ•°ç»„
  const categorySet = new Set(products.value.map(p => p.category))
  return Array.from(categorySet).sort() // æŒ‰å­—æ¯é¡ºåºæ’åº
})

// å¤æ‚è®¡ç®—å±æ€§çš„ç‰¹ç‚¹ï¼š
// 
// 1. é“¾å¼ä¾èµ–ï¼šsortedProducts ä¾èµ– filteredProductsï¼Œå½¢æˆè®¡ç®—é“¾
// 2. è‡ªåŠ¨ä¼˜åŒ–ï¼šVue ä¼šæ™ºèƒ½åœ°åªé‡æ–°è®¡ç®—å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†
// 3. ç¼“å­˜æœºåˆ¶ï¼šç›¸åŒçš„ç­›é€‰æ¡ä»¶ä¸‹ï¼Œè®¡ç®—ç»“æœä¼šè¢«ç¼“å­˜
// 4. å“åº”å¼æ›´æ–°ï¼šä»»ä½•ä¾èµ–æ•°æ®å˜åŒ–éƒ½ä¼šè§¦å‘ç›¸å…³è®¡ç®—å±æ€§æ›´æ–°
// 5. æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…åœ¨æ¨¡æ¿ä¸­è¿›è¡Œå¤æ‚è®¡ç®—ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½
// 
// å®é™…åº”ç”¨åœºæ™¯ï¼š
// - ç”µå•†ç½‘ç«™çš„å•†å“ç­›é€‰å’Œæ’åº
// - æ•°æ®è¡¨æ ¼çš„è¿‡æ»¤å’Œç»Ÿè®¡
// - æœç´¢ç»“æœçš„å®æ—¶è®¡ç®—
// - å¤æ‚è¡¨å•çš„æ•°æ®éªŒè¯å’Œæ ¼å¼åŒ–
<\/script>`
</script>

<style scoped>
.computed-demo {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.page-header {
  text-align: center;
  margin-bottom: 3rem;
  padding: 2rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 12px;
}

.page-header h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
  font-weight: 700;
}

.page-description {
  font-size: 1.1rem;
  opacity: 0.9;
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.6;
}

.demo-section {
  margin-bottom: 4rem;
}

.demo-section h2 {
  color: #2c3e50;
  font-size: 1.8rem;
  margin-bottom: 1.5rem;
  padding-bottom: 0.5rem;
  border-bottom: 3px solid #4FC08D;
  display: inline-block;
}

.demo-container {
  margin: 2rem 0;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .computed-demo {
    padding: 1rem;
  }
  
  .page-header {
    padding: 1.5rem;
  }
  
  .page-header h1 {
    font-size: 2rem;
  }
  
  .demo-section h2 {
    font-size: 1.5rem;
  }
}
</style>